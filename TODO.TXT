2009-03-05
Make a sync plugin in admin section for syncing between two databases and pulling out differences
Make the audio module match amazon albums
Improve search api in db_file, every request var must be handled and moving the search functionally to a different module would prevent that

2009-03-04
Fix zip.php and bt.php plugins, the changed with the Filepath always being aliased has borked them
Make the searching functionality in db_playlist module more abstract and useful to other modules
	Move the searching capabilities from db_playlist over to a db_search module, don't handle anything, don't clean up anything, just handle all the search request vars
	Remove search handling from db_files, fields get ignored all the time in other wrapper modules
Add functionality to search capabilities, return results in order of relevance by iterating through all the combinations of the search terms and single search terms
	Don't sort results! they will be sorted by relevance automatically, using LIMIT is very important here, default to 1 result
	Call db_search as a category from the search.php plugin and make the module to search some other variable understood by the search module
	Assume the db_file module is used just like everything else
Change some of the other plugins like file.php and encode.php to search when a required field is missing like $request[id]
	if search terms are used while accessing another module, consider making a generate function in the db_search module that returns a set of $props[] to be appended to the current ones
	This will make searching a special use case available to other modules

2009-03-03
Update fs_diskimage and fs_archive to the new module::out() method standard
Make all paths in database use same type of directory separator
Make getting files independed of directory seperator
Make hard links and soft links, hard links are replaced when they are put in to the database, soft links are replaced when they are read from the database, this will allow us to do more network stuff
Work on playlist module, use hard links to help find files
Add a check for file_exists() in cron for each watched directory, if it doesn't post error and continue

2009-02-26
Make the db_watch_list load when it is browsed to
More compatibility testing with clients

2009-02-26 (Full)
------------- GENERAL TODO -------------
Make backup ways of accessing files, store old IDs for removed files in a backup database
	If a filename is supplied to the file.php plugin, do a search for that file if the ID doesn't exist
Do memory checks and don't run cron if it's above a certain threshhold, maybe run some stuff with niceness
Make sure the watched directory is mounted, if it is still in the database but doesn't exist on disk, prompt for input in the admin section and don't remove non existing files on cleanup
Make a class for handling CSV as the database type, make sure all the queries can refer to the statement builder
File uploading and personal folders
	Limit access to watch and alias tables after implementing users and permissions
Interface with mediatomb and support UPnP protocol
------------- Plugin TODO -------------
Set up conditions for when the streams are used based on if %OF and %IF are used in the command arguments
Get streams working in convert.php plugin and
Get ranges working in encode plugin
	only allow the option if the argument can read from stdin and read the input from the module and write it to the input stream
Figure out a way of doing this with files even if stdin is not being used in the command, if fopen is writing to a file, does it file feof when reading from the same file simulaneously?
Figure out how to download files out of a zip file, maybe use an external program and set up archive.php plugin
Add support for creating thumbnails in convert.php script
FIX bt.php plugin to work with command line torrent seeder on windows
Make convert.php plugin recognize video thumbnails and use vlc to extract them
------------- Module TODO -------------
Improve how the modules handle the headers, should the out() method only return the stream or should it change headers too?
Make cleanup faster by having the other modules check if their paths are still in the files database instead?  it is still a lot of queries but would it be faster then checking the file system?
	maybe instead of string compares, the IDs can be used, this would take some refactoring of each module
Find a solution for adding files that are being browsed immediately, do a check in handles maybe for db_ modules that adds it to the database immediately if it is trying to be accessed?
Work on db_movies, use cUrl to download movie information from imdb, use the volume decriptor for lookup, this shouldn't change even if they edited an image
	Research the video_ts.ifo file, there must be a way of getting the full name from a DVD image, windows media center projects can do it, so can we
------------- All Template TODO -------------
Finish mobile template.
FIX detail options in default template
Add podcast list template
Add Ampache XML API template
Work on finishing EXT JS template, and add more templates from Ampache, Jinzora, and WinAmp Remote
------------- EXT JS -------------
Fix arrow-key movement in extjs template, in thumbnails view of the FolderView.js
Add desktop.ini/folder.ini files and fix up thumbnails in FolderView.js
Fix initial load time in FolderView.js
Work on category view/show in groups in FolderView.js, add items that take up whole line and have headers
Fix tooltip popup in FolderView.js, in wrong panel maybe?
Press letter on the keyboard to go to that folder in FolderView.js and select.php
Change desktop style to be buttons like folders in Desktop.js but render buttons to index.html
Get settings dialog working and set up user accounts to control it
Finish the player app that displays pictures
Make players resize to Player window

2009-02-26
Get streams working in convert.php plugin and set up conditions for when the streams are used based on if %OF and %IF are used in the command arguments
Make backup ways of accessing files, store old IDs for removed files in a backup database
	If a filename is supplied to the file.php plugin, do a search for that file if the ID doesn't exist
Improve how the modules handle the headers, should the out() method only return the stream or should it change headers too?

2009-02-25
Now that streams are working, create a system for using both the module->out() methods and an intermediate program
	this will enable streaming out of a diskimage for example
Set the content length to $bitrate * $song_length, this will give us a fairly accurent content-length
Make sure the watched directory is mounted, if it is still in the database but doesn't exist on disk, prompt for input in the admin section and don't remove non existing files on cleanup
Do memory checks and don't run cron if it's above a certain threshhold, maybe run some stuff with niceness

2009-02-24
Get ranges working in encode plugin, then move the input to the appropriate module out() function
	only allow the option if the argument can read from stdin and read the input from the module and write it to the input stream
Figure out a way of doing this with files even if stdin is not being used in the command, if fopen is writing to a file, does it file feof when reading from the same file simulaneously?
Finish db_video module, should be easy with all the abstraction
Make convert.php plugin recognize video thumbnails and use vlc to extract them

2009-02-23
Fix Accept-Ranges section in the db_file module out() method
Interface with mediatomb and support UPnP protocol
Finish mobile template.
Put validation in the statement_builder function, modules just interface with the database, since the database can change why should they have to validate the query?

2009-02-21
Find a way to pull out the common file path of all the artists and albums in the db_albums and db_artists module

2009-02-20 (Full)
------------- GENERAL TODO -------------
Make a class for handling CSV as the database type, make sure all the queries can refer to the statement builder
File uploading and personal folders
	Limit access to watch and alias tables after implementing users and permissions
------------- Plugin TODO -------------
Implement %IF and %OF options for commands
Figure out how to download files out of a zip file, maybe use an external program and set up archive.php plugin
Add support for creating thumbnails in convert.php script
FIX bt.php plugin to work with command line torrent seeder on windows
------------- Module TODO -------------
Make cleanup faster by having the other modules check if their paths are still in the files database instead?  it is still a lot of queries but would it be faster then checking the file system?
	maybe instead of string compares, the IDs can be used, this would take some refactoring of each module
Find a solution for adding files that are being browsed immediately, do a check in handles maybe for db_ modules that adds it to the database immediately if it is trying to be accessed?
Work on db_movies, use cUrl to download movie information from imdb, use the volume decriptor for lookup, this shouldn't change even if they edited an image
	Research the video_ts.ifo file, there must be a way of getting the full name from a DVD image, windows media center projects can do it, so can we
------------- All Template TODO -------------
FIX detail options in default template
Fix pretty dir paths to not be used when mod_rewrite is not used
Add podcast list template
Work on finishing EXT JS template, and add more templates from Ampache, Jinzora, and WinAmp Remote
------------- EXT JS -------------
Fix arrow-key movement in extjs template, in thumbnails view of the FolderView.js
Add desktop.ini/folder.ini files and fix up thumbnails in FolderView.js
Fix initial load time in FolderView.js
Work on category view/show in groups in FolderView.js, add items that take up whole line and have headers
Fix tooltip popup in FolderView.js, in wrong panel maybe?
Press letter on the keyboard to go to that folder in FolderView.js and select.php
Change desktop style to be buttons like folders in Desktop.js but render buttons to index.html
Get settings dialog working and set up user accounts to control it
Finished the player app that displays pictures
Make players resize to Player window

2009-02-19
FIX state for cron script
Make db_watch_list module check to make sure directory is actually in the watch and not ignored
Limit access to watch and alias tables after implementing users and permissions
Decide what to do about watch_list and watched directories, should there be a module for handling the watch database?
Fix up $database->set() function an possible merge it with the statement builder function
Make a class for handling CSV as the database type, make sure all the queries can refer to the statement builder
Make state_dirs save in tmp if missing write permissioons, add write permission information to install process

2009-02-18
Abstract db_archive module just like diskimage
Add podcast list template
Fix pretty dir paths to not be used when mod_rewrite is not used

2009-02-17 (Full)
Improve abstraction in the modules, so much repeated code!
Figure out what to do for albums, either a modifier to the $request and pass it to db_files module, or keep the get statement overriden
Make cleanup more efficient, only clean up files for changed folders
Make the settings.php plugin load individual settings for each template, settings should be submitted by the template, and used by the template, templates handle their own validation of settings
Find a solution for adding files that are being browsed immediately, do a check in handles maybe for db_ modules that adds it to the database immediately if it is trying to be accessed?
Work on db_movies, use cUrl to download movie information from imdb, use the volume decriptor for lookup, this shouldn't change even if they edited an image
	Research the video_ts.ifo file, there must be a way of getting the full name from a DVD image, windows media center projects can do it, so can we
Implement %IF and %OF options for commands
Figure out how to download files out of a zip file, maybe use an external program and set up archive.php plugin
FIX detail options in default template
Add support for creating thumbnails in convert.php script
File uploading and personal folders
FIX bt.php plugin to work with command line torrent seeder on windows
Work on finishing EXT JS template, and add more templates from Ampache, Jinzora, and WinAmp Remote
------------- All JS template stuff -------------
Fix arrow-key movement in extjs template, in thumbnails view of the FolderView.js
Add desktop.ini/folder.ini files and fix up thumbnails in FolderView.js
Fix initial load time in FolderView.js
Work on category view/show in groups in FolderView.js, add items that take up whole line and have headers
Fix tooltip popup in FolderView.js, in wrong panel maybe?
Press letter on the keyboard to go to that folder in FolderView.js and select.php
Change desktop style to be buttons like folders in Desktop.js but render buttons to index.html
Get settings dialog working and set up user accounts to control it
Finished the player app that displays pictures
Make players resize to Player window

2009-02-17
Find a solution for adding files that are being browsed immediately, do a check in handles maybe for db_ modules that adds it to the database immediately if it is trying to be accessed?
Work on db_movies, use cUrl to download movie information from imdb, use the volume decriptor for lookup, this shouldn't change even if they edited an image
Fix archive and diskimage modules to detect folders even if not individually defined, this can be done using preg_match and the $matches result, is there a solution for backwards reference in mysql?
Research the video_ts.ifo file, there must be a way of getting the full name from a DVD image, windows media center projects can do it, so can we

2009-02-16
Finish adding fs_ modules to db_modules, arists and albums should not be an fs_module, only db_
Work on finishing EXT JS template, and add more templates from Ampache, Jinzora, and WinAmp Remote
Finish adding db_diskimage, and work on db_movies which should only be available with USE_DATABASE

2009-02-13
Implement %IF and %OF options for commands
Test zip stuff more, works fairly well, make archive out forward to archive.php plugin
Output contents of zip to other modules for images conversion
Buffered gzinflate in archives modules
Work on db_archive
Fix adding a directory when archives don't store directories in the central directory, pick out all directories at right level?

2009-02-11 (Full)
Figure out how to download files out of a zip file
FIX detail options in default template
Add support for creating thumbnails in convert.php script
File uploading and personal folders
FIX bt.php plugin to work with command line torrent seeder on windows
------------- All JS template stuff -------------
Fix arrow-key movement in extjs template, in thumbnails view of the FolderView.js
Add desktop.ini/folder.ini files and fix up thumbnails in FolderView.js
Fix initial load time in FolderView.js
Work on category view/show in groups in FolderView.js, add items that take up whole line and have headers
Fix tooltip popup in FolderView.js, in wrong panel maybe?
Press letter on the keyboard to go to that folder in FolderView.js and select.php
Change desktop style to be buttons like folders in Desktop.js but render buttons to index.html
Get settings dialog working and set up user accounts to control it

2009-02-11
Fix aliasing, and dealiasing in the modules
Fix bt.php and zip.php plugins, severly broken with new changes, specifically the FOLDER handling
Make common only load fs_ or db_ modules depending on USE_DATABASE definition, also load fs_file for internal use only!

2009-02-09
Work getIDsFromRequest() into the modules only, and make the modules able to return items based on a list of IDs
Figure out how to download files out of a zip file
Download files without USE_DATABASE set to true, allow the actual filename to be used?  with USE_DATASE check to make sure it is in the database?
FIX detail options in default template
Work out a system for passing files to their module first, in select.php when a directory is used it should use the module to determine if it exists
This will enable doing things like passing in a zip using the fs_zip category and getting files back from it
The file.php should also use the modules, passing in a stream STDOUT should be written to by the module, this will enable us to use the modules for writing out zipped files
Any raw file access should refer to the module, this should enable us to turn off database support, and run completely on the modules returnin the right information
What optimizations can be put in cron that the modules should support? How about returning false for ->handles? When you pass a file in that is inside the ignored paths
Add a no database options first, this will help us figure out how to allow some modules to always run without a database

2009-01-31
Add support for creating thumbnails in convert.php script
Fix arrow-key movement in extjs template, in thumbnails view of the FolderView.js
Add desktop.ini/folder.ini files and fix up thumbnails in FolderView.js
Fix initial load time in FolderView.js
Work on category view/show in groups in FolderView.js, add items that take up whole line and have headers
Fix tooltip popup in FolderView.js, in wrong panel maybe?
Press letter on the keyboard to go to that folder in FolderView.js and select.php
Change desktop style to be buttons like folders in Desktop.js but render buttons to index.html
Get settings dialog working and set up user accounts to control it
File uploading and personal folders
