{assign var=page_count value=$limit}
{assign var=prev_page value=$page-$page_count}
Page {if $page > 0}
		{if $page > $page_count}
			<a href="{$get|cat:'&start=0'|generate_href}">First</a>
			<a href="{$get|cat:'&start='|cat:$prev_page|generate_href}">Prev</a>
		{else}
			<a href="{$get|cat:'&start=0'|generate_href}">First</a>
		{/if}
		|
	{/if}
{assign var=page_int value=$page/$page_count}
{assign var=lower value=$page_int-8}
{assign var=upper value=$page_int+8}
{assign var=total_count value=$total_count-1}
{assign var=pages value=$total_count/$page_count|floor}
{if $lower < 0}{assign var=upper value=$upper-$lower}{assign var=lower value=0}{/if}
{if $upper > $pages}{assign var=upper value=$pages}{assign var=lower value=$pages-$page_count-1}{/if}
{if $lower < 0}{assign var=lower value=0}{/if}
{section name=page_select start=$lower loop=$upper+1 step=1}
    {assign var=curr_page value=$smarty.section.page_select.index*$page_count}
	{if $smarty.section.page_select.index == $page_int}
	<b>{$page_int+1}</b>
	{else}
	<a href="{$get|cat:'&start='|cat:$curr_page|generate_href}">{$smarty.section.page_select.index+1}</a>
	{/if}
{/section}
{if $page <= $total_count-$page_count}
	|
	{assign var=last_page value=$total_count/$page_count|floor}
    {assign var=last_page value=$last_page*$page_count}
    {assign var=next_page value=$page+$page_count}
	{if $page < $total_count-$page_count-$page_count}
		<a href="{$get|cat:'&start='|cat:$next_page|generate_href}">Next</a>
		<a href="{$get|cat:'&start='|cat:$last_page|generate_href}">Last</a>
	{else}
		<a href="{$get|cat:'&start='|cat:$last_page|generate_href}">Last</a>
	{/if}
{/if}